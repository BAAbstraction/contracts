Давайте продолжим про NFT Address Options.

ЛечуЛетел в самолёте без интернета, самое время заняться контрактами)

Как происходит деплой контрактов

Нам крайне важно две вещи:
- возможность деплоить одинаковые адреса на разных EVM-сетях
- возможность апгрейдить контракты деплоя без потери возможности деплоя на уже найденные красивые адреса

В связи с этим деплой не совсем прост. Итак, этапы:
- обязательно нужен EOA для начального деплоя контрактов проекта. На все сети деплой только с него
- обязательно соблюдаем порядок. Важно, чтобы на разных сетях были одинаковые адреса. Порядок деплоя следующих контрактов уже не важен. [Вот скрипт деплоя](https://github.com/BAAbstraction/contracts/blob/main/script/MainFactory.deploy.sol)
- сначала мы деплоим имплементацию IF (intermadiate factory – промеджуточной фабрики)
- потом деплоим имплементацию MF (main factory – основной фабрики)
- далее деплоим два прокси-контракта – IF и MF. Важно, чтобы нонсы были одинаковые на всех сетях – 3 и 4. Тем самым два контракта, от которых зависит адрес нового контракта, всегда будут постоянные.
- а всё

Следующий пост уже готов, и там разберём подробнее commit-reveal схему минта NFT. А после этого поста – как происходит деплой