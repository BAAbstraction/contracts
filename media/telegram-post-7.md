**Алиса нашла красивый адрес (точнее – соль)**. Как она добавляет, и что происходит?
Смотрим [testMintNft()](https://github.com/BAAbstraction/contracts/blob/670bad06791533a94932e7a633bd6a9a47bc32ec/test/MainFactory.t.sol#L45):
- Алиса нашла соль `bytes32(111)`, она делает хэш с ней и произвольным randomFactor (это нужно для повторных попыток в случае например фронтрана)
- Алиса выполняет первую транзакцию коммита –  `mainFactory.commit(_hash)`
- Второй транзакцией Алиса делает `mainFactory.reveal(salt, randomFactor)` – предоставляет саму соль и исходный randomFactor. Это может сделать только она, так как соль никто не знает, а хэш уже записан и проверяется контрактом. Важно делать это не в том же блоке
- в конце теста мы деплоим какой-то код на этот NFT. Это может сделать только владелец NFT

Разберем поближе commit-reveal схему
- [при коммите](https://github.com/BAAbstraction/contracts/commit/895d5dcb9ebf44b19f15df18a57612486c9e5fdc) просто пишем хэш в мапу `whoCommited` с ключом сендера (адреса Алисы)
- [при ревиле](https://github.com/BAAbstraction/contracts/blob/895d5dcb9ebf44b19f15df18a57612486c9e5fdc/src/MainFactory.sol#L55) проверяем правильность хэша и минтим Алисе NFT. Его айдишник – uint256 от адреса, на который NFT даст возможность деплоить. Таким образом мы легко сопоставляем tokenId с адресами без записи лишних данных
- ну и сохраняем саму соль – она пригодится при деплое контракта по адресу